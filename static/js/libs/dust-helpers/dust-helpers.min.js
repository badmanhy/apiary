(function(){function k(b){b=b.current();return"object"===typeof b&&!0===b.isSelect}function f(b,a,d,c,e){c=c||{};var g,f;if(c.key)g=j.tap(c.key,b,a);else if(k(a))g=a.current().selectKey,a.current().isResolved&&(e=function(){return!1});else throw"No key specified for filter and no key found in context from select statement";f=j.tap(c.value,b,a);return e(f,l(g,c.type,a))?(k(a)&&(a.current().isResolved=!0),b.render(d.block,a)):d["else"]?b.render(d["else"],a):b.write("")}function l(b,a,d){if(b)switch(a||
typeof b){case "number":return+b;case "string":return String(b);case "boolean":return Boolean(b);case "date":return new Date(b);case "context":return d.get(b)}return b}"undefined"!==typeof exports&&(dust=require("dustjs-linkedin"));var h="undefined"!==typeof console?console:{log:function(){}},j={sep:function(b,a,d){return a.stack.index===a.stack.of-1?b:d.block(b,a)},idx:function(b,a,d){return d.block(b,a.push(a.stack.index))},contextDump:function(b,a){h.log(JSON.stringify(a.stack.head));return b},
tap:function(b,a,d){var c=b;"function"===typeof b&&("undefined"!==typeof b.isReference&&!0===b.isReference?c=b():(c="",a.tap(function(a){c+=a;return""}).render(b,d).untap(),""===c&&(c=!1)));return c},"if":function(b,a,d,c){if(c&&c.cond){c=c.cond;c=this.tap(c,b,a);if(eval(c))return b.render(d.block,a);if(d["else"])return b.render(d["else"],a)}else h.log("No condition given in the if helper!");return b},math:function(b,a,d,c){if(c&&c.key&&(c.eq||c.method)){d=c.key;d=this.tap(d,b,a);if(c.eq){var e=c.eq,
e=this.tap(e,b,a);return b.write(d===e)}e=c.method;c=c.operand||null;var g=function(){h.log("operand is required for this math method")};c&&(c=this.tap(c,b,a));switch(e){case "mod":c?(a=parseFloat(d)%parseFloat(c),b.write(a)):g();break;case "add":c?(a=parseFloat(d)+parseFloat(c),b.write(a)):g();break;case "subtract":c?(a=parseFloat(d)-parseFloat(c),b.write(a)):g();break;case "multiply":c?(a=parseFloat(d)*parseFloat(c),b.write(a)):g();break;case "divide":c?(a=parseFloat(d)/parseFloat(c),b.write(a)):
g();break;case "ceil":a=Math.ceil(parseFloat(d));b.write(a);break;case "floor":a=Math.floor(parseFloat(d));b.write(a);break;case "abs":a=Math.abs(parseFloat(d));b.write(a);break;default:h.log("method passed is not supported")}}else h.log("Key is a required parameter along with eq or method/operand!");return b},select:function(b,a,d,c){if(c&&c.key)return c=this.tap(c.key,b,a),b.render(d.block,a.push({isSelect:!0,isResolved:!1,selectKey:c}));h.log("No key given in the select helper!");return b},eq:function(b,
a,d,c){return f(b,a,d,c,function(a,b){return b===a})},lt:function(b,a,d,c){return f(b,a,d,c,function(a,b){return b<a})},lte:function(b,a,d,c){return f(b,a,d,c,function(a,b){return b<=a})},gt:function(b,a,d,c){return f(b,a,d,c,function(a,b){return b>a})},gte:function(b,a,d,c){return f(b,a,d,c,function(a,b){return b>=a})},"default":function(b,a,d,c){return f(b,a,d,c,function(){return!0})},size:function(b,a,d,c){a=c.subject;d=0;if(a)if(dust.isArray(a))d=a.length;else if(isNaN(a))if(Object(a)===a){d=
0;for(var e in a)Object.hasOwnProperty.call(a,e)&&d++}else d=(a+"").length;else d=a;else d=0;return b.write(d)}};dust.helpers=j;"undefined"!==typeof exports&&(module.exports=dust)})();