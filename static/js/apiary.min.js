function bind_popovers(){$("[rel='popover']").popover()}function bind_tooltips(){$("[rel='tooltip']").tooltip()}var Distribution=Backbone.Model.extend({url:"/api/distribution",idAttribute:"name"}),DistributionCollection=Backbone.Collection.extend({url:"/api/distributions",model:Distribution}),DistributionsTableView={table:$("#distribution-table"),add_tablesorter:function(){DistributionsTableView.table.tablesorter({cssAsc:"table-sort-asc",cssDesc:"table-sort-desc",sortList:[[1,0]],headers:{0:{sorter:!1}}})},bind_select_column:function(){var e=this.table.find("thead tr:first th:first");e.click(function(){var t=e.find("i.icon-check");if(t.length>0){t.addClass("icon-unchecked").removeClass("icon-check");DistributionsTableView.table.find("tbody tr td:first i.icon-check").addClass("icon-unchecked").removeClass("icon-check")}else{e.find("i").addClass("icon-check").removeClass("icon-unchecked");DistributionsTableView.table.find("tbody tr td:first i.icon-unchecked").addClass("icon-check").removeClass("icon-unchecked")}});var t=DistributionsTableView.table.find("tbody tr td:first");console.debug(t);t.click(function(){console.log(this);var e=$(this).find("i.icon-check");e.length>0?e.addClass("icon-unchecked").removeClass("icon-check"):$(this).find("i").addClass("icon-check").removeClass("icon-unchecked")})},initialize:function(){this.table=new DistributionsTableView.Table},Row:Backbone.View.extend({tagName:"tr",initialize:function(){$("#distribution-table").length>0&&(this.template=_.template($("#item-template").html()))},render:function(){$(this.el).html(this.template(this.model.toJSON()));return this}}),Table:Backbone.View.extend({initialize:function(){this.el=DistributionsTableView.table.find("> tbody");this.collection||(this.collection=new DistributionCollection);var e=this;this.collection.fetch({success:function(t){e.render();DistributionsTableView.add_tablesorter();DistributionsTableView.bind_select_column()}})},render:function(){$(this.el).empty();_.each(this.collection.models,function(e){var t=new DistributionsTableView.Row({model:e});$(this.el).append(t.render().el)},this);return this},tagName:"tbody"})},routes={"/settings/distributions":[{path:"",name:"Distributions",callback:DistributionsTableView.initialize}]},Router=Backbone.Router.extend({initialize:function(){var e=this;_.each(routes[document.location.pathname],function(t){e.route(t.path,t.name,t.callback)})}});$(function(){new Router;Backbone.history.start();bind_tooltips();bind_popovers()});